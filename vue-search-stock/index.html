<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="renderer" content="webkit">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta content="telephone=no" name="format-detection"/>
  <meta content="email=no" name="format-detection"/>
  <title>股票搜索example</title>
  <link rel="stylesheet" href="https://unpkg.com/normalize.css@7.0.0/normalize.css">
</head>
<body>
  <div id="app">
    <button class="btn" @click="handleToggle">搜索股票</button>
    <p>你选择的股票{{selectStock}}</p>

    <search-stock
      ref="searchStock"
      :api="api"
      @selectStock="selectCurrentStock"
    ></search-stock>
  </div>

  <script src="https://unpkg.com/fastclick@1.0.6/lib/fastclick.js"></script>
  <script src="https://unpkg.com/vue@2.4.2/dist/vue.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="vue-search-stock.js"></script>

  <script>
    Vue.use(VueSearchStock);
    new Vue({
      el: '#app',
      data: {
        selectStock: '',
        api: 'http://muziso.com/test/stock_search/queryAllStock.json'
      },
      methods: {
        handleToggle(evt) {
          evt.preventDefault();
          evt.stopPropagation();
          this.$refs.searchStock.open();
        },
        selectCurrentStock(stock) {
          this.selectStock = stock;
        }
      }
    });

    FastClick.attach(document.body);
  </script>

</body>
</html>
